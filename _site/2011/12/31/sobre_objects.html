<DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>Sobre objets (Ruby Koans)</title>
    <meta name="author" content="Osledy Bazo" />

    <!-- syntax highlighting CSS -->
    <link rel="stylesheet" href="/css/syntax.css" type="text/css" />

    <!-- Homepage CSS -->
    <link rel="stylesheet" href="/css/screen.css" type="text/css" media="screen, projection" />

    <!-- Typekit -->
    <script type="text/javascript" src="http://use.typekit.com/jpd0pfm.js"></script>
    <script type="text/javascript">try{Typekit.load();}catch(e){}</script>
  </head>
  <body>

    <!-- ClickTale Top part -->
    <script type="text/javascript">
      var WRInitTime=(new Date()).getTime();
    </script>
    <!-- ClickTale end of Top part -->

    <div class="site">
      <div class="title">
        <a href="/">Os</a>
      </div>

      <div id="post">
  <h1>Sobre objets (Ruby Koans)</h1>
<p class="meta">31 Dic 2011</p>
<p>La clase Object esta en la raiz de la jerarquia de clases de ruby. Sus metodos estan disponibles en todas las clases, se dice que en ruby todo es un objeto, pero esto no es 100% cierto <a href="http://rubylearning.com/blog/2010/09/27/almost-everything-is-an-object-and-everything-is-almost-an-object/">Almost everything is an object</a></p>
<p>Podemos evaluar si algo es un objeto:</p>
<div class="highlight"><pre><code class="ruby"><span class="o">&gt;&gt;</span> <span class="mi">1</span><span class="o">.</span><span class="n">is_a?</span><span class="p">(</span><span class="no">Object</span><span class="p">)</span>
<span class="o">=&gt;</span> <span class="kp">true</span>
<span class="c1">#=&gt; es una instancia de Fixnum</span>
<span class="o">&gt;&gt;</span> <span class="mi">1</span><span class="o">.</span><span class="mi">5</span><span class="o">.</span><span class="n">is_a?</span><span class="p">(</span><span class="no">Object</span><span class="p">)</span>
<span class="o">=&gt;</span> <span class="kp">true</span>
<span class="c1">#=&gt; es una instancia de Float</span>
<span class="o">&gt;&gt;</span> <span class="s2">&quot;string&quot;</span><span class="o">.</span><span class="n">is_a?</span><span class="p">(</span><span class="no">Object</span><span class="p">)</span>
<span class="o">=&gt;</span> <span class="kp">true</span>
<span class="c1">#=&gt; es una instancia de String</span>
<span class="o">&gt;&gt;</span> <span class="kp">nil</span><span class="o">.</span><span class="n">is_a?</span><span class="p">(</span><span class="no">Object</span><span class="p">)</span>
<span class="o">=&gt;</span> <span class="kp">true</span>
<span class="c1">#=&gt; es una instancia de NilClass</span>
<span class="o">&gt;&gt;</span> <span class="no">Object</span><span class="o">.</span><span class="n">is_a?</span><span class="p">(</span><span class="no">Object</span><span class="p">)</span>
<span class="o">=&gt;</span> <span class="kp">true</span>
<span class="c1">#=&gt; es una instancia de Class</span>
</code></pre>
</div>
<p>Los objetos pueden ser convertidos a Strings</p>
<div class="highlight"><pre><code class="ruby"><span class="o">&gt;&gt;</span> <span class="mi">123</span><span class="o">.</span><span class="n">to_s</span>
<span class="o">=&gt;</span> <span class="s2">&quot;123&quot;</span>
<span class="o">&gt;&gt;</span> <span class="kp">nil</span><span class="o">.</span><span class="n">to_s</span>
<span class="o">=&gt;</span> <span class="s2">&quot;&quot;</span>
</code></pre>
</div>
<p>Pueden retornar una representacion textual de si mismos</p>
<div class="highlight"><pre><code class="ruby"><span class="o">&gt;&gt;</span> <span class="mi">123</span><span class="o">.</span><span class="n">inspect</span>
<span class="o">=&gt;</span> <span class="s2">&quot;123&quot;</span>
<span class="o">&gt;&gt;</span> <span class="kp">nil</span><span class="o">.</span><span class="n">inspect</span>
<span class="o">=&gt;</span> <span class="s2">&quot;nil&quot;</span>
</code></pre>
</div>
<p>Cada objeto tiene su propio id que lo identifica y no comparte con otro objeto.</p>
<div class="highlight"><pre><code class="ruby"><span class="o">&gt;&gt;</span> <span class="n">obj</span> <span class="o">=</span> <span class="no">Object</span><span class="o">.</span><span class="n">new</span>
<span class="o">=&gt;</span> <span class="c1">#&lt;Object:0x10062a308&gt;</span>
<span class="o">&gt;&gt;</span> <span class="n">obj</span><span class="o">.</span><span class="n">object_id</span>
<span class="o">=&gt;</span> <span class="mi">2150715780</span>
</code></pre>
</div>
<div class="highlight"><pre><code class="ruby"><span class="o">&gt;&gt;</span> <span class="n">obj</span> <span class="o">=</span> <span class="no">Object</span><span class="o">.</span><span class="n">new</span>
<span class="o">=&gt;</span> <span class="c1">#&lt;Object:0x10060e130&gt;</span>
<span class="o">&gt;&gt;</span> <span class="n">another_obj</span> <span class="o">=</span> <span class="no">Object</span><span class="o">.</span><span class="n">new</span>
<span class="o">=&gt;</span> <span class="c1">#&lt;Object:0x100607038&gt;</span>
<span class="o">&gt;&gt;</span> <span class="n">obj</span><span class="o">.</span><span class="n">object_id</span> <span class="o">!=</span> <span class="n">another_obj</span><span class="o">.</span><span class="n">object_id</span>
<span class="o">=&gt;</span> <span class="kp">true</span>
</code></pre>
</div>
<p>Algunos objetos del sistema tienen siempre el mismo Object#id</p>
<div class="highlight"><pre><code class="ruby"><span class="o">&gt;&gt;</span> <span class="kp">false</span><span class="o">.</span><span class="n">object_id</span>
<span class="o">=&gt;</span> <span class="mi">0</span>
<span class="o">&gt;&gt;</span> <span class="kp">true</span><span class="o">.</span><span class="n">object_id</span>
<span class="o">=&gt;</span> <span class="mi">2</span>
<span class="o">&gt;&gt;</span> <span class="kp">nil</span><span class="o">.</span><span class="n">object_id</span>
<span class="o">=&gt;</span> <span class="mi">4</span>
</code></pre>
</div>
<p>Los numeros enteros pequenos tienen un Object#id fijo y este parece seguir un patron de (n+n+1)</p>
<div class="highlight"><pre><code class="ruby"><span class="o">&gt;&gt;</span> <span class="mi">0</span><span class="o">.</span><span class="n">object_id</span>
<span class="o">=&gt;</span> <span class="mi">1</span>
<span class="o">&gt;&gt;</span> <span class="mi">1</span><span class="o">.</span><span class="n">object_id</span>
<span class="o">=&gt;</span> <span class="mi">3</span>
<span class="o">&gt;&gt;</span> <span class="mi">2</span><span class="o">.</span><span class="n">object_id</span>
<span class="o">=&gt;</span> <span class="mi">5</span>
<span class="o">&gt;&gt;</span> <span class="mi">100</span><span class="o">.</span><span class="n">object_id</span>
<span class="o">=&gt;</span> <span class="mi">201</span>
</code></pre>
</div>
<p>Los objetos pueden ser clonados, donde las variables de instancia del mismo tambien son copiadas pero no los objetos a los que hace referencia</p>
<div class="highlight"><pre><code class="ruby"><span class="o">&gt;&gt;</span> <span class="n">obj</span> <span class="o">=</span> <span class="no">Object</span><span class="o">.</span><span class="n">new</span>
<span class="o">=&gt;</span> <span class="c1">#&lt;Object:0x1012ae458&gt;</span>
<span class="o">&gt;&gt;</span> <span class="n">copy</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">clone</span>
<span class="o">=&gt;</span> <span class="c1">#&lt;Object:0x10129e8a0&gt;</span>
<span class="o">&gt;&gt;</span> <span class="n">obj</span>           <span class="o">!=</span> <span class="n">copy</span>
<span class="o">=&gt;</span> <span class="kp">true</span>
<span class="o">&gt;&gt;</span> <span class="n">obj</span><span class="o">.</span><span class="n">object_id</span> <span class="o">!=</span> <span class="n">copy</span><span class="o">.</span><span class="n">object_id</span>
<span class="o">=&gt;</span> <span class="kp">true</span>
</code></pre>
</div>
</div>

<div id="related">
  <h2>Related Posts</h2>
  <ul class="posts">
    
    <li><span>01 Jan 2012</span> &raquo; <a href="/2012/01/01/sobre_true_y_false.html">Sobre true y false (Ruby Koans)</a></li>
    
    <li><span>01 Jan 2012</span> &raquo; <a href="/2012/01/01/sobre_sentencias_de_control.html">Sobre sentencias de control (Ruby Koans)</a></li>
    
    <li><span>01 Jan 2012</span> &raquo; <a href="/2012/01/01/sobre_metodos.html">Sobre metodos (Ruby Koans)</a></li>
    
  </ul>
</div>


      <div class="footer">
        <div class="contact">
          <p>
          osledybazo@gmail.com
          </p>
        </div>
        <div class="contact">
          <p>
          <a href="http://github.com/uokesita/">github.com/uokesita</a><br />
          <a href="http://twitter.com/uokesita/">twitter.com/uokesita</a><br />
          </p>
        </div>
      </div>
    </div>

  </body>
</html>

